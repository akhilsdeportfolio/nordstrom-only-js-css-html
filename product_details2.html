<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>view product</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons"
      rel="stylesheet">
    <style>
         body {
            font-family: "Brandon Text",Arial,sans-serif;
            margin-left: 10px;
            margin-left: 10px;
        }
        .material-icons{
            text-align: center;
            margin:5px;
        }
        #details{
            width:70%;
            margin:auto;
            display: grid;
            grid-template-columns:50% 400px;
            gap:20px
        }
        h2{
            font-weight: 100;
            margin-bottom: 0px;
            margin-top: 0px;
        }
        h4{
            text-align: left;
            margin-bottom: 0px;
            width: 50;
        }
        
        #details+div{
            /*display: flex;*/
            margin: auto;
            /*text-align: center;*/
            
           
        }
        img{
            width: 50%;
           
            
        }
        div+div{
            display: flex;
            flex-direction: column;
        }
        #flex{
            display:flex;
            flex-direction: column;
        }
        #discription_product>button{
            background-color: black;
            color: white;
            padding: 10px;
                font-size: 20px;
                line-height: 24px;
            border-radius: 5px;

        }
        #discription_product>button+p{
           
            font-size: 13px;
           width:110px;
            color: black;
            padding-top: 10px;
           
            
        }
        p{
            font-size: 13px;
            float: left;
        }

        h3{
            margin-bottom: 0px;
        }
        h3+p{
            margin-top: 0px;
            margin-bottom: 0px;
        }
        #discription_list{
            float: left;
            text-align: left;
            width: 35%;
           
            
            
        }
        #have_questions>button{
           
        
            
           
            color: black;
            padding: 20px;
            width:120px
        }
        .hower{
            width: 80%;
            transition-timing-function: cubic-bezier(0.6, 0.04, 0.98, 0.335);
            display: flex;
            max-height: 450px;
            
            
            
           
           /* overflow: hidden;*/
        }
        span{
            font-size: 20px;
            margin-bottom: 0px;
        }
        li{
            font-size: 13px;

        }
        li+p{
            margin-top: 20px;
        }
        #discription_list{
            padding: 20px;
        }
       #have_questions{
           padding: 20px;
       }
       .hower1{
       
  text-decoration-line: underline;
  text-decoration-thickness: 2px;


       }
       input{
           width:30px;
           height: 30px;
           text-align: center;

       }
       a{
           color: black;
       }
       .hower2{
           border: none;
           background-color: rgb(198, 196, 201);
       }
    </style>
    <div id="details">
        <div id="image_product"></div>
        <div id="discription_product"></div>
        
    </div>
    <br>
    <br>
    <div id="flex">
    <div id="discription_list"></div>
    <div id="have_questions"></div>
    <div id="ratings"></div>
    </div>
</head>
<body>
    <script>
        var parent=document.getElementById("product_1")
        var image_div=document.getElementById("image_product")
        var discription_div=document.getElementById("discription_product")
        var discription_list=document.getElementById("discription_list")
        var have_questions=document.getElementById("have_questions")
        var a=localStorage.getItem("view")
        console.log(a[0])
        let view_data=JSON.parse(localStorage.getItem("artproduct1"))
        console.log(view_data)
      
        view_data.forEach(function(product){
           
            var name=document.createElement("h2")
            name.textContent=product.name
            console.log(product.name)
//hower through image
            var image=document.createElement("img")
            image.src=product.image
            image.onmouseover=function(){
                image.setAttribute("class","hower")
            }
            image.onmouseleave=function(){
                image.removeAttribute("class")
            }
           

            var color=document.createElement("p")
            color.textContent=product.color
            //console.log(color)

            var price=document.createElement("h3")
            price.textContent="INR "+product.price

            var text=document.createElement("p")
            text.textContent="Price varies with currency exchange rates and may be different than in store."

            var about=document.createElement("p")
            about.textContent=product.about

            var about1=document.createElement("p")
            about1.textContent=product.about

            var itemcode=document.createElement("p")
            itemcode.textContent=product.itemcode

            var button=document.createElement("button")
            var span=document.createElement("span")
            span.setAttribute("class","material-icons")
            span.innerText="shopping_bag"
            button.append(span)
            button.style.fontSize="19px"
            button.innerHTML+=" Add to Bag"

            //function for add to cart
            //console.log(product);
            //button.onclick=add_to_bag(product)
            button.addEventListener('click',function(event){
                add_to_bag(product);
            })

            var made=document.createElement("p")
            made.textContent=product.made

            var size=document.createElement("p")
            size.textContent=product.size

            //var add_to_cart=document.createElement("a")

            //3rd div for have questions
            var have_que=document.createElement("h4")
            var span=document.createElement("span")
            span.setAttribute("class","material-icons")
            span.innerText="forum"
            have_que.append(span)
            console.log(have_que.innerHTML);
            console.log(have_que.innerHTML+="HAVE QUESTIONS?" );
            have_que.innerHTML+="HAVE QUESTIONS?" // innerhtml = innerhtml+"aHve a question""

            var para=document.createElement("p")
            para.textContent="Connect with us to get free style advice, product recommendations or customer service help."

            var chat_now_button=document.createElement("button")
            chat_now_button.textContent="Chat Now"
//hower throgh button
            chat_now_button.onmouseover=function(){
                chat_now_button.setAttribute("class","hower2")
            }
            chat_now_button.onmouseleave=function(){
                chat_now_button.removeAttribute("class")
            }


            // color : [{variantname:"pink",urls:[]},{variantname:"black",urls:[]}]
           

            

            var second_header=document.createElement("h4")
            second_header.textContent="DETAILS & CARE"


            //var ul = document.createElement("ul");
            //ul.innerHTML = 
            var list=document.createElement("li")
            var list1=document.createElement("li")
            var list2=document.createElement("li")
            var seemore=document.createElement("p")
            var link=document.createElement("a");
            link.setAttribute("href","http://www.google.com");
            link.textContent="See more";
//seemore mouse hower
            link.onmouseover=function(){
                link.setAttribute("class","hower1")

            }
            link.onmouseleave=function(){
                link.removeAttribute("class")
            }

// quantity element 
            var quantity = document.createElement("input");
             quantity.setAttribute("type", "text");
             quantity.setAttribute("id","quantity");
           quantity.setAttribute("value","1")




// wishlist content
            var wishlist=document.createElement("p")
            var wish_list_link=document.createElement("a")
           // wish_list_link.setAttribute("href","http://www.google.com");

//dialogue box creation
            wishlist.setAttribute("click",function(element){
                show_dialogue_box(product)
            })
            
            wish_list_link.textContent="+  Add To Wish List"
            wishlist.append(wish_list_link)
            wishlist.onmouseover=function(){
                wishlist.setAttribute("class","hower1")

            }
            wishlist.onmouseleave=function(){
                wishlist.removeAttribute("class")
            }


            seemore.textContent="Free Shipping & Returns \t";
            seemore.append(link)
            
            list.textContent= product.size
            list1.textContent= "Item "+product.itemcode
            list2.textContent= "Made in "+product.made
            
            image_div.append(image)
            if(product.rating) {
                var rating = document.createElement('p');
                for(let i = 1; i <= product.rating; i++) {
                    var star = document.createElement('span');
                    star.innerHTML = '<span>&#9733;</span>';
                    rating.appendChild(star);
                }

                var rating_count = document.createElement('span');
                rating_count.innerText = ` (${product.rating})`; 
                rating.appendChild(rating_count);

               // div.append(image, description, p_price, rating);
                discription_div.append(rating,name,price,text,about1,color,quantity,document.createElement("br"),button,wishlist);
            } else {
               // div.append(image, description, p_price);
               discription_div.append(name,price,text,about1,color,quantity,document.createElement("br"),button,wishlist);
            }
           // discription_div.append(name,price,text,about1,color,button)
            discription_list.append(second_header,about,list,list1,list2,seemore)

            //div.append(div1,div2)

            //parent.append(image_div,discription_div)
            have_questions.append(have_que,para,chat_now_button)

            
        });

        if(localStorage.getItem("bag")==null){
            localStorage.setItem("bag",JSON.stringify([]))
        
        }

        function updateCart(product)
        {
            var bag1=JSON.parse( localStorage.getItem("bag"));

            var filter=bag1.filter(function(ele){
                //console.log(ele);
                return  ele.productDetails.name == product.name;
            });

            //console.log(filter);

            if(filter.length>0)
            {

                        var quantityInBag=bag1[0].quantity;
                        quantityInBag+=Number(document.getElementById("quantity").value);
                        bag1.pop();
                        localStorage.setItem("bag",JSON.stringify(bag1));
                        //console.log(bag1);
                        var orderDetials = { productDetails :product ,quantity:quantityInBag}
                        //console.log(orderDetials);
                        bag1.push(orderDetials);
                        console.log(bag1);
                        localStorage.setItem("bag",JSON.stringify(bag1));

            }

            

        }
        {} 
               function add_to_bag(product){
           // var bag=JSON.stringify(product)
           
           var bag1=JSON.parse( localStorage.getItem("bag"))
            console.log(bag1.length)
            if(bag1.length===0)
            {   
                //bag1.push(product);
                //console.log(bag1);
                var orderDetials = { productDetails :product ,quantity:1}
                console.log("OD"+orderDetials);
                bag1.push(orderDetials);
                console.log(bag1);
                localStorage.setItem("bag",JSON.stringify(bag1));



                
            }
            else{
                updateCart(product);
            } 
            function show_dialogue_box(product) {
        if(localStorage.getItem('wish_list') === null) {
            localStorage.setItem('wish_list', JSON.stringify([]));
        }

        console.log(product);
        var wish_list1 = JSON.parse(localStorage.getItem('wishlist'));
        wish_list1.push(product);

        console.log(wish_list1)

        localStorage.setItem('wish_list', JSON.stringify(wish_list1));
    } 
            
           

          

        }
    
    </script>
</body>
</html>